#N canvas 131 91 609 627 10;
#X declare -lib mrpeach;
#N canvas 804 530 272 212 stuff 0;
#N canvas 664 349 581 290 mostralinha 0;
#X obj 41 41 gemhead;
#X obj 41 138 translateXYZ 0 0 1;
#X obj 162 40 r posi;
#X obj 162 69 / 480;
#X obj 41 67 colour 1 1 1;
#X obj 162 115 expr - $f1;
#X obj 41 164 rectangle 1.8 0.01;
#X obj 264 48 sel 0;
#X obj 305 95 timer;
#X floatatom 307 122 5 0 0 0 - - -;
#X msg 243 76 bang;
#X obj 318 50 sel 479;
#X obj 163 94 * 2.7;
#X connect 0 0 4 0;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 2 0 7 0;
#X connect 2 0 11 0;
#X connect 3 0 12 0;
#X connect 4 0 1 0;
#X connect 5 0 1 2;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 10 0 8 0;
#X connect 11 0 8 1;
#X connect 12 0 5 0;
#X restore -442 64 pd mostralinha;
#X obj -443 3 HSV2OSC;
#N canvas 412 321 291 205 WINDOW 0;
#X obj -405 78 gemwin;
#X msg -447 23 create \, 1;
#X msg -323 28 destroy;
#X obj -375 -93 r onoffgemwin;
#X obj -371 -69 sel 1 0;
#X msg -267 16 \; state 0 \;;
#X obj -295 -17 t b b;
#X obj -427 -45 t b b;
#X msg -384 3 \; state 1 \;;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 4 0;
#X connect 4 0 7 0;
#X connect 4 1 6 0;
#X connect 6 0 2 0;
#X connect 6 1 5 0;
#X connect 7 0 1 0;
#X connect 7 1 8 0;
#X restore -444 -28 pd WINDOW;
#N canvas 409 148 450 300 EXT_CTRL 0;
#X obj 128 235 s state;
#X text 156 211 send state signal (on/off) to sound pacth;
#X obj 128 212 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#N canvas 1 81 450 300 and_ctrl 0;
#X obj 89 40;
#X obj 135 25 udpreceive 8000;
#X obj 156 60 unpackOSC;
#X obj 530 200 print;
#X floatatom 427 267 5 0 0 0 - - -;
#X obj 191 98 route /1/fader1 /1/push1;
#X floatatom 267 144 5 0 0 0 - - -;
#X floatatom 196 140 5 0 0 0 - - -;
#X obj 211 175 outlet;
#X obj 278 183 outlet;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 5 0 7 0;
#X connect 5 1 6 0;
#X connect 6 0 9 0;
#X connect 7 0 8 0;
#X restore -23 165 pd and_ctrl;
#X floatatom 45 200 5 0 0 0 - - -;
#X floatatom -26 196 5 0 0 0 - - -;
#X obj -23 217 * 10;
#X obj 279 126 s scanspeed;
#X obj -73 250 s scanspeed;
#X obj 275 149 s scanspeedGUI;
#X obj 13 250 s scanspeedGUI;
#X obj 44 228 s stateGUI;
#X connect 2 0 0 0;
#X connect 3 0 5 0;
#X connect 3 1 4 0;
#X connect 4 0 2 0;
#X connect 4 0 11 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 6 0 10 0;
#X restore -443 35 pd EXT_CTRL;
#N canvas 824 429 253 300 INIT 0;
#X obj -303 3 loadbang;
#X obj -302 105 r reset_f0;
#X msg -302 235 110;
#X obj -246 135 r Gmode;
#X obj -246 165 sel 2;
#X msg -303 30 \; f0_init 110 \; SustTime_init 100 \; steps_init 480
\; vidORstill_init 1 \;;
#X obj -301 264 s f0_init;
#X msg -172 226 \; SustTime_init 100 \; SustOnOff_init 0 \;;
#X obj -172 199 r SustTimeReset;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 8 0 7 0;
#X restore -443 90 pd INIT;
#N canvas 294 120 961 610 VIDEO_MAIN 0;
#X obj -138 413 pix_resize;
#X obj -361 447 pix_texture;
#X text 332 341 x-pos;
#X msg -362 423 quality 0;
#X obj 181 244 until;
#X obj 181 268 f;
#X obj 181 216 t a b;
#X obj -362 399 loadbang;
#X msg 181 193 12;
#X obj 211 344 expr $f1/12 + 0.041;
#X obj 210 268 + 1;
#X obj 222 244 0;
#X obj 80 428 expr 1 - $f1/480;
#X obj 196 -24 cnv 15 100 60 empty empty empty 20 12 0 14 -195568 -66577
0;
#X text 197 -28 start / stop;
#X obj 221 -7 tgl 30 0 empty startstop empty 17 7 0 10 -4034 -1 -1
0 1;
#X text 239 379 sends signal of end line;
#X obj 224 486 s end_line;
#X obj -131 364 pix_buffer_read frame;
#X obj -372 183 pix_buffer_write frame;
#X obj -134 333 gemhead;
#X msg -6 332 1;
#X msg -242 156 1;
#X obj -338 552 pix_buffer frame 2;
#X obj 44 71 t b b b;
#X obj -372 209 pix_texture;
#X floatatom -275 227 5 0 0 0 - - -;
#X obj 173 74 r end_line;
#X obj 173 143 counter 480;
#X obj 236 168 s NewFrame;
#X obj 19 24 r NewFrame;
#X obj 224 402 sel 11;
#X obj 173 99 spigot;
#X obj 173 168 t f b a;
#X obj 210 35 t b b a;
#X text -200 383 read and resize frame from buffer;
#X obj -27 454 pix_data;
#X obj 106 246 s posi;
#X text 321 320 pix-group number;
#X text 252 139 triggers 480 lines scan;
#X text 20 260 y-coor to mostralinha;
#X text 222 196 triggers 12 pix-groups scan in each line;
#X text 13 397 GETS PIXELS VALUES FROM FRAME;
#X obj -361 475 translateXYZ 0 -1.8 0;
#X obj -361 501 rectangle 2.4 1.8;
#X obj -372 279 rectangle 2.4 1.8;
#X obj -372 249 translateXYZ 0 2 0;
#X obj 278 404 r scanspeed;
#N canvas 290 213 450 300 video_info 0;
#X obj 59 40 inlet;
#X obj 64 113 pix_info --------------;
#X obj 63 161 s info_width;
#X obj 80 187 s info_height;
#X obj 106 216 s info_bytes;
#X obj 139 241 s info_colorspace;
#X obj 31 260 outlet;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 1 1 2 0;
#X connect 1 2 3 0;
#X connect 1 3 4 0;
#X connect 1 4 5 0;
#X restore -372 152 pd video_info;
#X obj 177 292 t f b f f;
#X obj 224 459 delay 0.5;
#X obj 311 451 + 0.5;
#X obj 220 119 r reset_scan;
#X obj -152 279 pack f f;
#X msg -157 307 dimen \$1 \$2;
#X msg -149 252 12;
#X obj -106 249 f 480;
#X obj -133 180 t b f f;
#X obj -133 155 r steps;
#X obj 122 194 r steps;
#X obj 106 221 /;
#X obj 84 194 * 480;
#X obj -9 539 send HSV3plet;
#X obj 228 323 send pix_groupN;
#X obj 322 427 pow 1.5;
#N canvas 647 200 450 300 framesIN 0;
#X obj 187 272 outlet;
#X obj 80 14 gemhead;
#X obj 37 36 cnv 15 80 30 empty empty empty 20 12 0 14 -24198 -66577
0;
#X obj 47 44 pix_video;
#N canvas 752 246 450 300 video_set 0;
#X obj -164 214 outlet;
#X msg -121 29 dimen 640 480;
#X obj -298 8 r device;
#X msg -254 99 device \$1;
#X obj -298 36 t b f b;
#X msg -247 62 \; onoffgemwin 0 \;;
#X obj -301 143 delay 500;
#X msg -301 168 \; onoffgemwin 1 \;;
#X msg 19 68 colorspace RGB;
#X msg 27 89 colorspace YUV;
#X msg 41 114 colorspace Grey;
#X obj 22 17 r color_space;
#X obj 22 42 sel 0 1 2;
#X connect 1 0 0 0;
#X connect 2 0 4 0;
#X connect 3 0 0 0;
#X connect 4 0 6 0;
#X connect 4 1 3 0;
#X connect 4 2 5 0;
#X connect 6 0 7 0;
#X connect 8 0 0 0;
#X connect 9 0 0 0;
#X connect 10 0 0 0;
#X connect 11 0 12 0;
#X connect 12 0 8 0;
#X connect 12 1 9 0;
#X connect 12 2 10 0;
#X restore -2 14 pd video_set;
#X obj 36 230 multiplex;
#X obj 111 233 tgl 15 0 empty vidORstill empty 17 7 0 10 -262144 -1
-1 1 1;
#X obj 138 205 pix_background;
#X obj 140 116 r play_mov;
#X obj 243 110 loadbang;
#X msg 238 180 0.2;
#X floatatom 236 204 5 0 0 0 - - -;
#X obj 47 184 demultiplex;
#X obj 146 147 sel 1;
#X msg 141 173 reset;
#X msg -61 146 open \$1;
#X obj -30 121 openpanel;
#X obj -30 85 bng 15 250 50 0 empty open_still_img empty 17 7 0 10
-262144 -1 -1;
#X obj -8 147 print;
#X obj -65 183 pix_image;
#X obj -120 120 gemhead;
#X floatatom 281 204 5 0 0 0 - - -;
#X msg 281 179 1;
#X obj 242 238 s vidORstill;
#X connect 1 0 3 0;
#X connect 3 0 12 0;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X connect 6 0 5 2;
#X connect 7 0 5 1;
#X connect 8 0 12 1;
#X connect 8 0 13 0;
#X connect 9 0 10 0;
#X connect 9 0 22 0;
#X connect 10 0 11 0;
#X connect 11 0 7 1;
#X connect 12 0 5 1;
#X connect 12 1 7 0;
#X connect 13 0 14 0;
#X connect 14 0 7 0;
#X connect 15 0 19 0;
#X connect 16 0 18 0;
#X connect 16 0 15 0;
#X connect 17 0 16 0;
#X connect 19 0 5 0;
#X connect 20 0 19 0;
#X connect 21 0 23 0;
#X connect 22 0 21 0;
#X restore -372 62 pd framesIN;
#X obj -9 497 rgb2hsv;
#X obj -134 533 print checkPixData;
#X obj 422 432 loadbang;
#X msg 392 432 4;
#X obj 405 490 0 0 0;
#X connect 0 0 1 0;
#X connect 0 0 36 1;
#X connect 1 0 43 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 10 0;
#X connect 5 0 49 0;
#X connect 6 0 4 0;
#X connect 6 1 11 0;
#X connect 7 0 3 0;
#X connect 8 0 6 0;
#X connect 9 0 36 2;
#X connect 10 0 5 1;
#X connect 11 0 5 1;
#X connect 12 0 36 3;
#X connect 15 0 34 0;
#X connect 18 0 0 0;
#X connect 19 0 25 0;
#X connect 20 0 18 0;
#X connect 21 0 18 1;
#X connect 22 0 19 1;
#X connect 24 0 28 0;
#X connect 24 1 21 0;
#X connect 24 2 22 0;
#X connect 25 0 46 0;
#X connect 26 0 46 2;
#X connect 27 0 32 0;
#X connect 28 0 33 0;
#X connect 28 0 61 0;
#X connect 28 3 29 0;
#X connect 30 0 24 0;
#X connect 31 0 50 0;
#X connect 32 0 28 0;
#X connect 33 1 8 0;
#X connect 33 2 12 0;
#X connect 34 0 24 0;
#X connect 34 2 32 1;
#X connect 36 1 66 0;
#X connect 43 0 44 0;
#X connect 46 0 45 0;
#X connect 47 0 64 0;
#X connect 48 0 19 0;
#X connect 49 0 31 0;
#X connect 49 1 36 0;
#X connect 49 2 9 0;
#X connect 49 3 63 0;
#X connect 50 0 17 0;
#X connect 51 0 50 1;
#X connect 52 0 28 3;
#X connect 53 0 54 0;
#X connect 54 0 0 0;
#X connect 55 0 53 0;
#X connect 56 0 53 1;
#X connect 57 0 55 0;
#X connect 57 1 56 0;
#X connect 57 2 28 4;
#X connect 58 0 57 0;
#X connect 59 0 60 1;
#X connect 60 0 37 0;
#X connect 61 0 60 0;
#X connect 64 0 51 0;
#X connect 65 0 48 0;
#X connect 66 0 62 0;
#X connect 68 0 69 0;
#X connect 68 0 70 0;
#X connect 69 0 64 0;
#X connect 70 0 62 0;
#X restore -442 127 pd VIDEO_MAIN;
#X restore 85 525 pd stuff;
#X obj 46 50 hradio 15 1 0 11 scanspeed scanspeedGUI scan_time 0 -8
0 10 -203904 -1 -1 0;
#X obj 132 -10 tgl 30 0 conn empty on/off_OSC 32 7 0 10 -257985 -1
-1 0 1;
#X obj 79 393 cnv 15 80 80 empty empty empty 20 12 0 14 -195568 -66577
0;
#X obj 91 412 tgl 50 0 startstop empty start/stop -5 -9 0 10 -4034
-1 -1 0 1;
#X obj 126 74 bng 20 250 50 0 reset_scan empty reset_scan 23 7 0 10
-159808 -1 -1;
#X obj 45 110 hradio 30 1 0 4 Gmode empty Gray_Mode 0 -8 0 10 -99865
-1 -1 0;
#N canvas 754 99 450 643 HELP 0;
#X text 18 432 * GRAY MODE Controls the modes of playing gray (zero
Saturation) pixels: 0 - no sound 1 - white noise 2 - sawtooth wave
at f0/2 frequency 3 - plays white noise AND sawtooth;
#X text 17 314 * on/off OSC turns on/off udp/OSC connection it connects
video patch to sound patch OBS: by default osundpatch is on Localhost
9998 \, change to your IP adress if you want to link different computers
;
#X text 16 371 * scan_time controls the "delay/pause" between each
row of played pixels;
#X text 19 256 * vertical_resize sets the vertical resolution of input
images;
#X text 17 402 * reset_scan resets the scanning to the top;
#X text 18 533 * Escalas chooses different scales (frequency ranges)
for Hue;
#X text 25 23 General Description scans vertically frames and outputs
the mean values of H S and V for 12 groups of pixels for each line
and/or gray value for gray pixels;
#X text 19 116 * on/off_video turns on the video capture;
#X text 19 151 * play_movement resets a background image when ON and
plays all the pixel that differ from this background;
#X text 41 78 the frames in input are played in gray mode and/or in
color mode;
#X text 19 198 * input_image switches between video or still image.
to load an image click on the bang "load_still_img" (only works with
still image mode);
#X text 18 504 * on/off_sound turns on the sound in the sound patch
;
#X text 18 563 * f0 regulates the groundtone frequency;
#X text 19 592 * SustainTime controls the sustain. "Hold" lets the
sound play when the scanning stops;
#X text 28 -4 <<<<<< SonarX >>>>>>;
#X obj 301 -25 cnv 15 120 60 empty empty empty 20 12 0 14 -262130 -66577
0;
#X text 305 -23 Lab.I.O. Mick Mengucci Francisco Medeiros;
#X restore 87 496 pd HELP;
#N canvas 1 80 450 300 CREDITS 0;
#X text 23 64 NOTE: this is a prototype \, created during an investigation
project. In case of bugs and if it is usefull to you please email mengucci@gmail.com
;
#X restore 83 554 pd CREDITS;
#X obj -151 -20 cnv 15 180 600 empty empty empty 20 12 0 14 -203904
-66577 0;
#X obj -141 -15 tgl 50 0 onoffgemwin empty on/off_video 60 7 0 10 -4032
-1 -1 0 1;
#X obj -137 271 vradio 15 1 0 4 device empty device 0 -8 0 10 -262144
-1 -1 0;
#X text -117 266 pc camera;
#X text -117 281 extra camera;
#X text -118 300 extra camera;
#X text -117 314 extra camera;
#X obj -137 357 vradio 15 1 0 3 color_space empty color_space 0 -8
0 10 -262144 -1 -1 0;
#X text -113 356 RGBA;
#X text -115 371 YUV;
#X text -116 386 Grey;
#X obj -136 422 cnv 15 120 110 empty empty empty 20 12 0 14 -261234
-66577 0;
#X floatatom -128 505 4 0 0 1 width info_width -;
#X floatatom -128 481 4 0 0 1 height info_height -;
#X floatatom -127 458 4 0 0 1 bytes/pixel info_bytes -;
#X floatatom -128 436 5 0 0 1 colorspace info_colorspace -;
#X floatatom -137 200 7 1 100000 1 vertical_resize steps_init steps
;
#X obj -134 153 bng 30 250 50 0 open_still_img empty load_still_img
34 7 0 10 -232576 -1 -1;
#X obj -84 6 tgl 30 0 play_mov empty play_movement 32 7 0 10 -232576
-1 -1 0 1;
#X obj -134 76 vradio 30 1 0 2 vidORstill vidORstill_init input_image
0 -10 0 10 -4160 -1 -1 1;
#X text -94 110 video;
#X text -96 80 still image;
#X obj 236 -21 cnv 15 220 600 empty empty empty 20 12 0 14 -261234
-66577 0;
#X obj 261 -15 tgl 50 0 state stateGUI on/off_sound 60 7 0 10 -260097
-1 -1 0 1;
#X obj 261 64 vradio 15 1 0 9 scale empty Escalas 0 -8 0 10 -257985
-1 -1 0;
#X obj 255 244 hsl 100 15 35 880 0 0 f0 f0_init f0 -2 -8 0 10 -260097
-1 -1 879 1;
#X floatatom 252 265 10 0 0 0 - - -;
#X obj 362 245 bng 15 250 50 1 reset_f0 empty empty 17 7 0 10 -262144
-1 -1;
#X text 280 60 octave digital continuous;
#X text 281 74 octave 12 notes (chromatic);
#X text 281 89 26 to 96 (C1 e C7);
#X text 280 139 36.7 / 2093 continuous;
#X text 283 151 pentatonic M;
#X text 283 167 pentatonic m;
#X obj 258 397 tgl 30 0 tikOnOff empty click_on/off 32 7 0 10 -261682
-1 -1 0 1;
#X obj 257 440 tgl 30 0 save_sound empty save_sound 32 7 0 10 -258113
-1 -1 0 1;
#X text 282 107 26/2000Hz (Human voice);
#X text 283 182 2 octaves continuos (36/60);
#X text 282 122 scale of 4ths;
#X obj 255 317 hsl 101 15 0 4000 0 1 SustTime SustTime_init SustainTime
-2 -8 0 10 -261682 -1 -1 250 1;
#X floatatom 252 338 10 0 0 0 - - -;
#X obj 368 317 tgl 15 0 SustOnOff SustOnOff_init Hold 0 -10 0 10 -261682
-1 -1 0 1;
#X obj 369 338 bng 15 250 50 0 SustTimeReset empty reset 17 7 0 10
-262144 -1 -1;
#X connect 34 0 35 0;
#X connect 48 0 49 0;
